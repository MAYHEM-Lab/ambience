if(TOS_AVR)
    add_subdirectory(avr)
    set(TOS_ARCH_NAME avr PARENT_SCOPE)
elseif(TOS_X86)
    add_subdirectory(x86)
    set(TOS_ARCH_NAME x86 PARENT_SCOPE)
elseif(TOS_ESP)
    add_subdirectory(lx106)
    set(TOS_ARCH_NAME lx106 PARENT_SCOPE)
elseif(TOS_ARM)
    add_subdirectory(arm)
    set(TOS_ARCH_NAME arm PARENT_SCOPE)
elseif(TOS_STM32)
    add_subdirectory(stm32)
    set(TOS_ARCH_NAME stm32 PARENT_SCOPE)
endif()