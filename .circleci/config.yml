version: 2
jobs:
  build:
    docker:
      - image: ubuntu:bionic
    steps:
      - checkout
      - run:
          name: Update apt
          command: apt-get update
      - run:
          name: Install Toolchain
          command: apt-get install -y g++-7 cmake ninja-build
      - run:
          environment: CXX=g++-7
          name: Generate Project
          command: mkdir build && cd build && cmake -DTOS_X86=ON ..
      - run:
          working_directory: build/
          name: Build Project
          command: ninja
