$lidlmeta:
  name: tos::services

block_storage:
  type: service
  procedures:
    get_block_size:
      returns:
        - i32
      parameters: []
    get_block_count:
      returns:
        - i32
      paramters: []
    erase:
      returns:
        - bool
      parameters:
        block_idx: i32
    write:
      returns:
        - bool
      parameters:
        block_idx: i32
        data:
          name: span
          parameters:
            - u8
        offset: i16
    read:
      returns:
        - name: span
          parameters:
            - u8
      parameters:
        block_idx: i32
        length: i16
        offset: i16